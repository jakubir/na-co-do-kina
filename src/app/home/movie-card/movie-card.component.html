<div 
    class="card h-100"
    (click)="showDetails.emit(movieId)"
    title="{{ title.toUpperCase() }} :  {{ truncate(description) }}"
>
    <div class="card-body p-0">
        <div class="card-img-top">
            <img 
                src="https://media.themoviedb.org/t/p/w220_and_h330_face{{ image }}" 
                class="rounded-top m-0 w-100 h-100" 
                alt="Plakat filmu {{ title }}"
                width="220"
                height="330"
            >
        </div>
        <div 
            class="position-absolute text-center text-light fst-italic border border-4 rounded-circle bg-dark"
            [ngClass]="
                percentageRating > 69 ? 'border-success' : 
                percentageRating > 39 ? 'border-warning' : 
                percentageRating > 0 ? 'border-danger' : 'border-secondary'
            "
            [ngStyle]="percentageRating == 100 ? {'font-size': '0.8em'} : {}"
        >
            {{percentageRating}}%
        </div>
        <h5 class="h6 card-title fw-semibold px-2 pt-3 m-0">
            <a 
                class="link-dark link-underline link-underline-opacity-0" 
                [routerLink]="['movie/' + movieId]"
            >
                {{ title }}
            </a>
        </h5>
        <p class="card-text px-2 pb-2 text-secondary" title="Data wydania">
            {{ releaseDate | date: 'mediumDate' }}
        </p>
    </div>
</div>
